/* Javascript 샘플 코드 */

<!DOCTYPE html>
<html lang="kr">
  <head>
    <meta charset="UTF-8" />
    <title>서울시 열린데이터 광장 OpenAPI 샘플(Javascript)</title>
  </head>
  <body>
    <!-- 6165474d6e73303837396353424777 -->
    <script src="data.js"></script>
    <script>
      // var xhr = new XMLHttpRequest();
      // var url =
      //   'http://openapi.seoul.go.kr:8088/6165474d6e73303837396353424777/json/SemaPsgudInfoKorInfo/1/1000/'; /* URL */
      // xhr.open('GET', url);
      // xhr.onreadystatechange = function () {
      //   if (this.readyState == xhr.DONE) {
      //     // <== 정상적으로 준비되었을때
      //     if (xhr.status == 200 || xhr.status == 201) {
      //       // <== 호출 상태가 정상적일때
      //       console.log(
      //         'Status: ' +
      //           this.status +
      //           '\nHeaders: ' +
      //           JSON.stringify(this.getAllResponseHeaders()) +
      //           '\nBody: ' +
      //           this.responseText
      //       );
      //     }
      //   }
      // };
      // xhr.send('');

      fetch(
        'http://openapi.seoul.go.kr:8088/4f644156576b696837335374624370/json/SemaPsgudInfoKorInfo/1/2/'
      )
        .then((response) => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.text();
        })
        .then((data) => {
          console.log(data); // 응답 데이터 콘솔에 출력
        })
        .catch((error) => {
          console.error(
            'There has been a problem with your fetch operation:',
            error
          );
        });
    </script>
  </body>
</html>
